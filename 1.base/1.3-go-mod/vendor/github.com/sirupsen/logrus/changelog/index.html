<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1.8.1 #  Code quality:
 move magefile in its own subdir/submodule to remove magefile dependency on logrus consumer improve timestamp format documentation  Fixes:
 fix race condition on logger hooks  1.8.0 #  Correct versioning number replacing v1.7.1.
1.7.1 #  Beware this release has introduced a new public API and its semver is therefore incorrect.
Code quality:
 use go 1.15 in travis use magefile as task runner  Fixes:"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="1.8.1 #  Code quality:
 move magefile in its own subdir/submodule to remove magefile dependency on logrus consumer improve timestamp format documentation  Fixes:
 fix race condition on logger hooks  1.8.0 #  Correct versioning number replacing v1.7.1.
1.7.1 #  Beware this release has introduced a new public API and its semver is therefore incorrect.
Code quality:
 use go 1.15 in travis use magefile as task runner  Fixes:"><meta property="og:type" content="article"><meta property="og:url" content="https://golang.coding3min.com/1.base/1.3-go-mod/vendor/github.com/sirupsen/logrus/changelog/"><meta property="article:section" content="1.base"><title>Changelog | Go语言精进之路</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.958cea7827621d6fbcb3acf091344c3e44e3d2a9428f9c3c38bb9eb37bf8c45d.css integrity="sha256-lYzqeCdiHW+8s6zwkTRMPkTj0qlCj5w8OLues3v4xF0=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.7713ca8901ea24146e1ffcbf7f0f4fce55b986b73a633a5abb860b31fe707ad1.js integrity="sha256-dxPKiQHqJBRuH/y/fw9PzlW5hrc6Yzpau4YLMf5wetE=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/><img src=/logo.png alt=Logo><span>Go语言精进之路</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://coding3min.com>机智的程序员小熊</a></li><li><a href=https://github.com/minibear2333/>GitHub</a></li><li><a href=/qrcode/>微信公众号</a></li><li><strong>帮助与提示</strong><ul><li><a href=/howtocontribute/>0.0 如何参与贡献</a></li><li><a href=/books-share/>0.1 书籍推荐</a></li></ul></li><li><strong>第一章、Go基础</strong><ul><li><a href=/1.base/1-1-install-download/>1.1 安装与下载</a></li><li><a href=/1.base/1-2-hello-world/>1.2 跑起来</a></li><li><a href=/1.base/1-3-go-mod/>1.3 go mod最佳实践</a></li><li><a href=/1.base/1-4-variables/>1.4 变量与常量</a></li><li><a href=/1.base/1-5-switch%E5%92%8Ctypeswitch/>1.5 switch和type switch</a></li><li><a href=/1.base/1-6-for-range/>1.6 循环</a></li><li><a href=/1.base/1-7-range%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/>1.7 range深度解析</a></li></ul></li><li><strong>第二章、函数和容器</strong><ul><li><a href=/2.func-containers/2-1-func/>2.1 函数简单使用和基本知识解析</a></li><li><a href=/2.func-containers/2-2-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85/>2.2 匿名函数和闭包</a></li><li><a href=/2.func-containers/2-3-%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0/>2.3 可变参数</a></li><li><a href=/2.func-containers/2-4-map/>2.4 集合（map）</a></li><li><a href=/2.func-containers/2-5-%E6%95%B0%E7%BB%84%E5%92%8C%E5%88%87%E7%89%87/>2.5 数组和切片</a></li></ul></li><li><strong>第三章、语法进阶</strong><ul><li><a href=/3.grammar-advancement/3-1-point/>3.1 指针讨论</a></li><li><a href=/3.grammar-advancement/3-2-struct/>3.2 结构体</a></li><li><a href=/3.grammar-advancement/3-3-%E6%8E%A5%E5%8F%A3%E4%B8%8E%E5%A4%9A%E6%80%81/>3.3 接口与多态</a></li><li><a href=/3.grammar-advancement/3-4-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/>3.4 异常处理</a></li></ul></li><li><strong>第四章、并发和并行</strong><ul><li><a href=/4.concurrent/4-1-go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E5%B9%B6%E5%8F%91%E7%89%B9%E6%80%A7/>4.1 并发特性</a></li><li><a href=/4.concurrent/4-2-goroutine-wait/>4.2 并发等待</a></li><li><a href=/4.concurrent/4-3-channel/>4.3 channel</a></li><li><a href=/4.concurrent/4-4-deadlock/>4.4 deadlock</a></li><li><a href=/4.concurrent/4-5-select/>4.5 select</a></li><li>-并发安全</li><li>-协程池</li><li>-消费者生产者框架</li><li>-GMP调度原理</li><li>-服务器监控实战</li></ul></li><li><strong>第五章、标准库</strong><ul><li><a href=5.standard-library/5.1-Go%e4%bb%a3%e7%a0%81%e5%9f%ba%e6%9c%ac%e6%a0%87%e5%87%86%e8%a7%84%e8%8c%83>5.1 Go代码基本标准规范</a></li><li><a href=5.standard-library/5.2-json>5.2 json库</a></li><li><a href=5.standard-library/5.3-Go%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c%e5%a4%a7%e5%85%a8>5.3 文件操作</a></li><li><a href=/5.standard-library/%E5%88%87%E7%89%87%E6%8E%92%E5%BA%8Fsort%E5%8C%85%E7%9A%84%E4%BD%BF%E7%94%A8/>5.3 排序</a></li><li><a href=5.standard-library/flag%e5%8c%85%e8%af%bb%e5%8f%96%e5%91%bd%e4%bb%a4%e8%a1%8c%e9%85%8d%e7%bd%ae>5.4 命令行操作</a></li><li>-时间处理</li><li>-字符串处理</li><li>-http库</li><li>跨平台编译</li><li>模板</li><li>在线工具系统实战</li></ul></li><li><strong>第六章、反射</strong></li><li><strong>第七章、调试与测试</strong><ul><li><a href=https://mp.weixin.qq.com/s/ltRpuolYuOa8cXivLZLlUw>单元测试</a></li><li>-基准测试</li><li>-mock</li><li>-自动化测试</li><li>-调试</li></ul></li><li><strong>第x章、性能调优</strong><ul><li>-cpu调度</li><li>-内存管理</li><li>-垃圾回收</li><li>-PProf</li><li>-逃逸分析</li><li>-链路追踪</li></ul></li><li><strong>第x章、优秀开源组件</strong><ul><li>-日志</li><li>-配置管理</li><li>-接口文档</li><li>-错误码控制</li><li>-mysql</li><li>-redis</li><li>-mongo</li><li>rabbitmq</li><li>kafka</li><li>-为开源项目贡献代码</li></ul></li><li><strong>第x章、web开发实战</strong><ul><li>-HTTP</li><li>-GRPC</li><li>-Protobuf</li><li>-gin</li></ul></li><li><strong>第x章、爬虫实战</strong></li><li><strong>第x章、在线教育系统实战</strong><ul><li>-在线考试系统实战</li><li>-知识付费系统实战</li><li>-在线课堂系统实战</li></ul></li><li><strong>第x章、微服务</strong><ul><li>熔断与限流</li></ul></li><li><strong>第x章、分布式系统</strong><ul><li>-分布式ID生成器</li><li>-分布式锁</li><li>-分布式一致性算法</li><li>-分布式定时任务</li><li>-分布式计算</li></ul></li><li><strong>第x章、Go语言工程化实战</strong><ul><li>构建约束</li><li><a href=/%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%AE%9E%E8%B7%B5/golang%E6%89%93%E9%95%9C%E5%83%8Fdockerfile%E7%9A%84%E5%86%99%E6%B3%95/>Go与Dockerfile</a></li></ul></li><li><strong>第x章、Go语言运维实战</strong></li><li><strong>第x章、Go语言监控实战</strong><ul><li>-自监控</li></ul></li><li><strong>第x章、kubernetes开发实战</strong></li><li><strong>第x章、服务治理</strong></li><li><strong>番外1、拓展应用</strong><ul><li><a href=/tools/readme/>小工具</a></li></ul></li><li><strong>番外2、陷阱与缺陷</strong><ul><li><a href=/impossible/range/readme/>range的第二个值实际上是值拷贝</a></li><li><a href=/impossible/%E6%96%B0%E6%89%8B%E5%B8%B8%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF/>新手常犯的错误</a></li><li><a href=/impossible/%E5%88%9D%E5%AD%A6%E8%80%85%E5%B8%B8%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF/>初学者常犯的错误</a></li><li><a href=/impossible/%E8%BF%9B%E9%98%B6%E5%B8%B8%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF/>进阶常犯的错误</a></li></ul></li><li><strong>第x章、GO语言版本分析</strong></li></ul></nav><script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Changelog</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1 id=181>1.8.1
<a class=anchor href=#181>#</a></h1><p>Code quality:</p><ul><li>move magefile in its own subdir/submodule to remove magefile dependency on logrus consumer</li><li>improve timestamp format documentation</li></ul><p>Fixes:</p><ul><li>fix race condition on logger hooks</li></ul><h1 id=180>1.8.0
<a class=anchor href=#180>#</a></h1><p>Correct versioning number replacing v1.7.1.</p><h1 id=171>1.7.1
<a class=anchor href=#171>#</a></h1><p>Beware this release has introduced a new public API and its semver is therefore incorrect.</p><p>Code quality:</p><ul><li>use go 1.15 in travis</li><li>use magefile as task runner</li></ul><p>Fixes:</p><ul><li>small fixes about new go 1.13 error formatting system</li><li>Fix for long time race condiction with mutating data hooks</li></ul><p>Features:</p><ul><li>build support for zos</li></ul><h1 id=170>1.7.0
<a class=anchor href=#170>#</a></h1><p>Fixes:</p><ul><li>the dependency toward a windows terminal library has been removed</li></ul><p>Features:</p><ul><li>a new buffer pool management API has been added</li><li>a set of <code>&lt;LogLevel>Fn()</code> functions have been added</li></ul><h1 id=160>1.6.0
<a class=anchor href=#160>#</a></h1><p>Fixes:</p><ul><li>end of line cleanup</li><li>revert the entry concurrency bug fix whic leads to deadlock under some circumstances</li><li>update dependency on go-windows-terminal-sequences to fix a crash with go 1.14</li></ul><p>Features:</p><ul><li>add an option to the <code>TextFormatter</code> to completely disable fields quoting</li></ul><h1 id=150>1.5.0
<a class=anchor href=#150>#</a></h1><p>Code quality:</p><ul><li>add golangci linter run on travis</li></ul><p>Fixes:</p><ul><li>add mutex for hooks concurrent access on <code>Entry</code> data</li><li>caller function field for go1.14</li><li>fix build issue for gopherjs target</li></ul><p>Feature:</p><ul><li>add an hooks/writer sub-package whose goal is to split output on different stream depending on the trace level</li><li>add a <code>DisableHTMLEscape</code> option in the <code>JSONFormatter</code></li><li>add <code>ForceQuote</code> and <code>PadLevelText</code> options in the <code>TextFormatter</code></li></ul><h1 id=142>1.4.2
<a class=anchor href=#142>#</a></h1><ul><li>Fixes build break for plan9, nacl, solaris</li></ul><h1 id=141>1.4.1
<a class=anchor href=#141>#</a></h1><p>This new release introduces:</p><ul><li>Enhance TextFormatter to not print caller information when they are empty (#944)</li><li>Remove dependency on golang.org/x/crypto (#932, #943)</li></ul><p>Fixes:</p><ul><li>Fix Entry.WithContext method to return a copy of the initial entry (#941)</li></ul><h1 id=140>1.4.0
<a class=anchor href=#140>#</a></h1><p>This new release introduces:</p><ul><li>Add <code>DeferExitHandler</code>, similar to <code>RegisterExitHandler</code> but prepending the handler to the list of handlers (semantically like <code>defer</code>) (#848).</li><li>Add <code>CallerPrettyfier</code> to <code>JSONFormatter</code> and <code>TextFormatter</code> (#909, #911)</li><li>Add <code>Entry.WithContext()</code> and <code>Entry.Context</code>, to set a context on entries to be used e.g. in hooks (#919).</li></ul><p>Fixes:</p><ul><li>Fix wrong method calls <code>Logger.Print</code> and <code>Logger.Warningln</code> (#893).</li><li>Update <code>Entry.Logf</code> to not do string formatting unless the log level is enabled (#903)</li><li>Fix infinite recursion on unknown <code>Level.String()</code> (#907)</li><li>Fix race condition in <code>getCaller</code> (#916).</li></ul><h1 id=130>1.3.0
<a class=anchor href=#130>#</a></h1><p>This new release introduces:</p><ul><li>Log, Logf, Logln functions for Logger and Entry that take a Level</li></ul><p>Fixes:</p><ul><li>Building prometheus node_exporter on AIX (#840)</li><li>Race condition in TextFormatter (#468)</li><li>Travis CI import path (#868)</li><li>Remove coloured output on Windows (#862)</li><li>Pointer to func as field in JSONFormatter (#870)</li><li>Properly marshal Levels (#873)</li></ul><h1 id=120>1.2.0
<a class=anchor href=#120>#</a></h1><p>This new release introduces:</p><ul><li>A new method <code>SetReportCaller</code> in the <code>Logger</code> to enable the file, line and calling function from which the trace has been issued</li><li>A new trace level named <code>Trace</code> whose level is below <code>Debug</code></li><li>A configurable exit function to be called upon a Fatal trace</li><li>The <code>Level</code> object now implements <code>encoding.TextUnmarshaler</code> interface</li></ul><h1 id=111>1.1.1
<a class=anchor href=#111>#</a></h1><p>This is a bug fix release.</p><ul><li>fix the build break on Solaris</li><li>don&rsquo;t drop a whole trace in JSONFormatter when a field param is a function pointer which can not be serialized</li></ul><h1 id=110>1.1.0
<a class=anchor href=#110>#</a></h1><p>This new release introduces:</p><ul><li>several fixes:<ul><li>a fix for a race condition on entry formatting</li><li>proper cleanup of previously used entries before putting them back in the pool</li><li>the extra new line at the end of message in text formatter has been removed</li></ul></li><li>a new global public API to check if a level is activated: IsLevelEnabled</li><li>the following methods have been added to the Logger object<ul><li>IsLevelEnabled</li><li>SetFormatter</li><li>SetOutput</li><li>ReplaceHooks</li></ul></li><li>introduction of go module</li><li>an indent configuration for the json formatter</li><li>output colour support for windows</li><li>the field sort function is now configurable for text formatter</li><li>the CLICOLOR and CLICOLOR_FORCE environment variable support in text formater</li></ul><h1 id=106>1.0.6
<a class=anchor href=#106>#</a></h1><p>This new release introduces:</p><ul><li>a new api WithTime which allows to easily force the time of the log entry
which is mostly useful for logger wrapper</li><li>a fix reverting the immutability of the entry given as parameter to the hooks
a new configuration field of the json formatter in order to put all the fields
in a nested dictionnary</li><li>a new SetOutput method in the Logger</li><li>a new configuration of the textformatter to configure the name of the default keys</li><li>a new configuration of the text formatter to disable the level truncation</li></ul><h1 id=105>1.0.5
<a class=anchor href=#105>#</a></h1><ul><li>Fix hooks race (#707)</li><li>Fix panic deadlock (#695)</li></ul><h1 id=104>1.0.4
<a class=anchor href=#104>#</a></h1><ul><li>Fix race when adding hooks (#612)</li><li>Fix terminal check in AppEngine (#635)</li></ul><h1 id=103>1.0.3
<a class=anchor href=#103>#</a></h1><ul><li>Replace example files with testable examples</li></ul><h1 id=102>1.0.2
<a class=anchor href=#102>#</a></h1><ul><li>bug: quote non-string values in text formatter (#583)</li><li>Make (*Logger) SetLevel a public method</li></ul><h1 id=101>1.0.1
<a class=anchor href=#101>#</a></h1><ul><li>bug: fix escaping in text formatter (#575)</li></ul><h1 id=100>1.0.0
<a class=anchor href=#100>#</a></h1><ul><li>Officially changed name to lower-case</li><li>bug: colors on Windows 10 (#541)</li><li>bug: fix race in accessing level (#512)</li></ul><h1 id=0115>0.11.5
<a class=anchor href=#0115>#</a></h1><ul><li>feature: add writer and writerlevel to entry (#372)</li></ul><h1 id=0114>0.11.4
<a class=anchor href=#0114>#</a></h1><ul><li>bug: fix undefined variable on solaris (#493)</li></ul><h1 id=0113>0.11.3
<a class=anchor href=#0113>#</a></h1><ul><li>formatter: configure quoting of empty values (#484)</li><li>formatter: configure quoting character (default is <code>"</code>) (#484)</li><li>bug: fix not importing io correctly in non-linux environments (#481)</li></ul><h1 id=0112>0.11.2
<a class=anchor href=#0112>#</a></h1><ul><li>bug: fix windows terminal detection (#476)</li></ul><h1 id=0111>0.11.1
<a class=anchor href=#0111>#</a></h1><ul><li>bug: fix tty detection with custom out (#471)</li></ul><h1 id=0110>0.11.0
<a class=anchor href=#0110>#</a></h1><ul><li>performance: Use bufferpool to allocate (#370)</li><li>terminal: terminal detection for app-engine (#343)</li><li>feature: exit handler (#375)</li></ul><h1 id=0100>0.10.0
<a class=anchor href=#0100>#</a></h1><ul><li>feature: Add a test hook (#180)</li><li>feature: <code>ParseLevel</code> is now case-insensitive (#326)</li><li>feature: <code>FieldLogger</code> interface that generalizes <code>Logger</code> and <code>Entry</code> (#308)</li><li>performance: avoid re-allocations on <code>WithFields</code> (#335)</li></ul><h1 id=090>0.9.0
<a class=anchor href=#090>#</a></h1><ul><li>logrus/text_formatter: don&rsquo;t emit empty msg</li><li>logrus/hooks/airbrake: move out of main repository</li><li>logrus/hooks/sentry: move out of main repository</li><li>logrus/hooks/papertrail: move out of main repository</li><li>logrus/hooks/bugsnag: move out of main repository</li><li>logrus/core: run tests with <code>-race</code></li><li>logrus/core: detect TTY based on <code>stderr</code></li><li>logrus/core: support <code>WithError</code> on logger</li><li>logrus/core: Solaris support</li></ul><h1 id=087>0.8.7
<a class=anchor href=#087>#</a></h1><ul><li>logrus/core: fix possible race (#216)</li><li>logrus/doc: small typo fixes and doc improvements</li></ul><h1 id=086>0.8.6
<a class=anchor href=#086>#</a></h1><ul><li>hooks/raven: allow passing an initialized client</li></ul><h1 id=085>0.8.5
<a class=anchor href=#085>#</a></h1><ul><li>logrus/core: revert #208</li></ul><h1 id=084>0.8.4
<a class=anchor href=#084>#</a></h1><ul><li>formatter/text: fix data race (#218)</li></ul><h1 id=083>0.8.3
<a class=anchor href=#083>#</a></h1><ul><li>logrus/core: fix entry log level (#208)</li><li>logrus/core: improve performance of text formatter by 40%</li><li>logrus/core: expose <code>LevelHooks</code> type</li><li>logrus/core: add support for DragonflyBSD and NetBSD</li><li>formatter/text: print structs more verbosely</li></ul><h1 id=082>0.8.2
<a class=anchor href=#082>#</a></h1><ul><li>logrus: fix more Fatal family functions</li></ul><h1 id=081>0.8.1
<a class=anchor href=#081>#</a></h1><ul><li>logrus: fix not exiting on <code>Fatalf</code> and <code>Fatalln</code></li></ul><h1 id=080>0.8.0
<a class=anchor href=#080>#</a></h1><ul><li>logrus: defaults to stderr instead of stdout</li><li>hooks/sentry: add special field for <code>*http.Request</code></li><li>formatter/text: ignore Windows for colors</li></ul><h1 id=073>0.7.3
<a class=anchor href=#073>#</a></h1><ul><li>formatter/*: allow configuration of timestamp layout</li></ul><h1 id=072>0.7.2
<a class=anchor href=#072>#</a></h1><ul><li>formatter/text: Add configuration option for time format (#158)</li></ul></article><div class="book-footer justify-between"></div><hr style=height:1px;background:var(--gray-200)><br><p>本图书由<a href=https://github.com/minibear2333>小熊</a>©2021 版权所有，<a href=https://golang.coding3min.com/>所有文章</a>采用<a href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh>知识署名-非商业性使用-禁止演绎 4.0 国际</a>进行许可。</p><div style=text-align:center><p><img width=70% style=width:70%;height:70%;!important src=https://coding3min.oss-accelerate.aliyuncs.com/2021/06/24/qrcode.png></p></div><script src=https://utteranc.es/client.js repo=minibear2333/blog-comment issue-term=title theme=github-light crossorigin=anonymous async></script><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/golang-minibear2333/golang/edit/master/./1.base/1.3-go-mod/vendor/github.com/sirupsen/logrus/CHANGELOG.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>